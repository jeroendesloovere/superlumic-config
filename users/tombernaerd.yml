
---

- hosts: 127.0.0.1
  connection: local

  tasks:
    - name: install personal cask applications
      homebrew_cask: name={{item}} state=present
      with_items:
        - adobe-creative-cloud
        - appcleaner
        - caffeine
        - calibre
        - dash
        - deluge
        - disk-inventory-x
        - dropbox
        - filezilla
        - firefox
        - flux
        - harvest
        - istat-menus
        - macdown
        - microsoft-office
        - mplayerx
        - mysqlworkbench
        - plex-home-theater
        - skitch
        - skype
        - slack
        - spectacle
        - spotify
        - teamviewer
        - telegram
        - vlc
        - vagrant
        # these should be either in the profile-all or profile-developer
        # configs but let's check anyway
        - hipchat
        - google-chrome
        - google-drive
        - lastpass
        - iterm2
        - phpstorm
        - sequel-pro
        - iterm2
        - atom
# this one assumes my username is tom, change it to yours
    - name: add to sudoers without password
      become: yes
      lineinfile: >
        dest=/etc/sudoers
        regexp="{{ item.regexp }}"
        line="{{ item.line }}"
        state=present
        create=true
      with_items:
        - { regexp: '^tom', line: 'tom ALL=(ALL) NOPASSWD: ALL' }

  roles:
    - profile-all
    - profile-developer

  vars:
    - computername: mbptb
    - git_user_name: Tom Bernaerd
    - git_user_email: tom@bernaerd.be
    - osx_defaults:
      ##########################################################################
      # General OS X settings
      ##########################################################################
      # Always show scrollbars
      # Possible values: `WhenScrolling`, `Automatic` and `Always`
      - domain: 'NSGlobalDomain'
        key: 'AppleShowScrollBars'
        type: string
        value: 'always'
      # Disable transparency in the menu bar and elsewhere on Yosemite
      - domain: 'com.apple.universalaccess'
        key: 'reduceTransparency'
        type: boolean
        value: true
      # Set highlight color to green
      - domain: 'NSGlobalDomain'
        key: 'AppleHighlightColor'
        type: string
        value: '0.764700 0.976500 0.568600'
      # Dock: Size
      - domain: 'com.apple.dock'
        key: 'tilesize'
        type: float
        value: 32
      # Dock: instant autohide
      - domain: 'com.apple.dock'
        key: 'autohide-time-modifier'
        type: int
        value: 0
      # Dock: instant autohide
      - domain: 'com.apple.dock'
        key: 'autohide-delay'
        type: int
        value: 0
      # Dock: autohide
      - domain: 'com.apple.dock'
        key: 'autohide'
        type: boolean
        value: true
      # Dock: minimize to application instead of to the right
      - domain: 'com.apple.dock'
        key: 'minimize-to-application'
        type: integer
        value: 1
      # Dock: process indicators. Useful when PHPStorm is overthinking things
      - domain: 'com.apple.dock'
        key: 'show-process-indicators'
        type: boolean
        value: true
      # Dock: on the bottom
      - domain: 'com.apple.dock'
        key: 'orientation'
        type: string
        value: bottom
      # Finder: small icons in sidebar
      - domain: 'NSGlobalDomain'
        key: 'NSTableViewDefaultSizeMode'
        type: integer
        value: 1
      # Faster key repeat
      - domain: 'NSGlobalDomain'
        key: 'KeyRepeat'
        type: integer
        value: 2
      # Faster initial key repeat
      - domain: 'NSGlobalDomain'
        key: 'InitialKeyRepeat'
        type: integer
        value: 15
      # Clock: date and time format
      - domain: 'com.apple.menuextra.clock'
        key: 'DateFormat'
        type: string
        value: EEE MMM d  HH:mm
      # Battery: show percentage
      - domain: 'com.apple.menuextra.battery'
        key: 'ShowPercent'
        type: string
        value: 'YES'
      # Finder: show list style
      - domain: 'com.apple.finder'
        key: 'FXPreferredViewStyle'
        type: string
        value: "clmv"
      # Save mode: always expanded
      - domain: 'NSGlobalDomain'
        key: 'NSNavPanelExpandedStateForSaveMode'
        type: boolean
        value: true
      #
      - domain: 'NSGlobalDomain'
        key: 'NSQuitAlwaysKeepsWindows'
        type: boolean
        value: false
      # Touchpad: press and hold enabled
      - domain: 'NSGlobalDomain'
        key: 'ApplePressAndHoldEnabled'
        type: boolean
        value: false
      # Don't write .DS_store crap to network stores
      - domain: 'com.apple.desktopservices'
        key: 'DSDontWriteNetworkStores'
        type: boolean
        value: true
      # Printing: quit when finished
      - domain: 'com.apple.print.PrintingPrefs'
        key: 'Quit When Finished'
        type: boolean
        value: true
      # Printing: always expanded
      - domain: 'NSGlobalDomain'
        key: 'PMPrintingExpandedStateForPrint'
        type: boolean
        value: true


      ################################################################################
      # Spectacle.app                                                               #
      ###############################################################################

      # Set up my preferred keyboard shortcuts
      - domain: 'com.divisiblebyzero.Spectacle' 
        key: 'MakeLarger'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035a4d616b654c6172676572d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7a7f8a93a7aabec7d9dce10000000000000101000000000000001c000000000000000000000000000000e3'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MakeSmaller'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035b4d616b65536d616c6c6572d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7b808b94a8abbfc8dadde20000000000000101000000000000001c000000000000000000000000000000e4'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToBottomHalf'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035f10104d6f7665546f426f74746f6d48616c66d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f8287929bafb2c6cfe1e4e90000000000000101000000000000001c000000000000000000000000000000eb'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToCenter'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035c4d6f7665546f43656e746572d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7c818c95a9acc0c9dbdee30000000000000101000000000000001c000000000000000000000000000000e5'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToFullscreen'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c6173731119008002107e80035f10104d6f7665546f46756c6c73637265656ed2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696c6e7072858a959eb2b5c9d2e4e7ec0000000000000101000000000000001d000000000000000000000000000000ee'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToLeftHalf'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c6173731119008002107b80035e4d6f7665546f4c65667448616c66d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696c6e70728186919aaeb1c5cee0e3e80000000000000101000000000000001d000000000000000000000000000000ea'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToLowerLeft'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035f100f4d6f7665546f4c6f7765724c656674d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f8186919aaeb1c5cee0e3e80000000000000101000000000000001c000000000000000000000000000000ea'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToLowerRight'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035f10104d6f7665546f4c6f7765725269676874d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f8287929bafb2c6cfe1e4e90000000000000101000000000000001c000000000000000000000000000000eb'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToNextDisplay'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c61737312008000008002106180035f10114d6f7665546f4e657874446973706c6179d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696e707274888d98a1b5b8ccd5e7eaef0000000000000101000000000000001d000000000000000000000000000000f1'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToNextThird'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c6173731118008002107c80035f100f4d6f7665546f4e6578745468697264d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696c6e70728489949db1b4c8d1e3e6eb0000000000000101000000000000001d000000000000000000000000000000ed'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToPreviousDisplay'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c61737312008000008002106080035f10154d6f7665546f50726576696f7573446973706c6179d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696e7072748c919ca5b9bcd0d9ebeef30000000000000101000000000000001d000000000000000000000000000000f5'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToPreviousThird'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c6173731118008002107b80035f10134d6f7665546f50726576696f75735468697264d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696c6e7072888d98a1b5b8ccd5e7eaef0000000000000101000000000000001d000000000000000000000000000000f1'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToRightHalf'
        type: 'data'
        value:  '62706c6973743030d4010203040506191a582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708111255246e756c6cd4090a0b0c0d0e0f10596d6f64696669657273546e616d65576b6579436f64655624636c6173731119008002107c80035f100f4d6f7665546f526967687448616c66d2131415165a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a217185f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11b1c54726f6f74800108111a232d32373c424b555a62696c6e70728489949db1b4c8d1e3e6eb0000000000000101000000000000001d000000000000000000000000000000ed'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToTopHalf'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035d4d6f7665546f546f7048616c66d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7d828d96aaadc1cadcdfe40000000000000101000000000000001c000000000000000000000000000000e6'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToUpperLeft'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035f100f4d6f7665546f55707065724c656674d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f8186919aaeb1c5cee0e3e80000000000000101000000000000001c000000000000000000000000000000ea'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'MoveToUpperRight'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035f10104d6f7665546f55707065725269676874d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f8287929bafb2c6cfe1e4e90000000000000101000000000000001c000000000000000000000000000000eb'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'RedoLastMove'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035c5265646f4c6173744d6f7665d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7c818c95a9acc0c9dbdee30000000000000101000000000000001c000000000000000000000000000000e5'
      - domain: 'com.divisiblebyzero.Spectacle'
        key: 'UndoLastMove'
        type: 'data'
        value:  '62706c6973743030d40102030405061819582476657273696f6e58246f626a65637473592461726368697665725424746f7012000186a0a40708101155246e756c6cd4090a0b0c0d0e0d0f596d6f64696669657273546e616d65576b6579436f64655624636c6173731000800280035c556e646f4c6173744d6f7665d2121314155a24636c6173736e616d655824636c61737365735f1011537065637461636c6553686f7274637574a216175f1011537065637461636c6553686f7274637574584e534f626a6563745f100f4e534b657965644172636869766572d11a1b54726f6f74800108111a232d32373c424b555a62696b6d6f7c818c95a9acc0c9dbdee30000000000000101000000000000001c000000000000000000000000000000e5
